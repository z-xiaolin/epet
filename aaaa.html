<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>倒计时效果</title>
  <script type="text/javascript">
    function checkTime(i) {
      if (i<10) {
        i="0"+i;
      }
      return i;
    }
    window.onload=function () {

      var p1=document.getElementById("p1"),
        p2=document.getElementById("p2"),
        p3=document.getElementById("p3");
      showtime1();
      showtime2();
//      showtime3();
      showtime();
    }
    function showtime1() {
      var nowdate=new Date();
      var year=nowdate.getFullYear(),//年份
        month=nowdate.getMonth()+1,//月份
        date=nowdate.getDate(),//日
        week=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],
        day=nowdate.getDay(),//getDay获取0-6
        h=nowdate.getHours(),
        h=checkTime(h),
        m=nowdate.getMinutes(),
        m=checkTime(m),
        s=nowdate.getSeconds(),
        s=checkTime(s);
      p1.innerHTML=year+"年"+month+"月"+date+"日"+week[day]+h+"："+m+"："+s;
      setTimeout(showtime1, 1000);
    }
    function showtime2() {
      var nowtime=new Date(),
        endtime=new Date("2017/6/6");
      var lefttime=endtime.getTime()-nowtime.getTime(),
        leftd=Math.floor(lefttime/(1000*60*60*24)),
        lefth=Math.floor(lefttime/(1000*60*60)%24),
        leftm=Math.floor(lefttime/(1000*60)%60),
        lefts=Math.floor(lefttime/1000%60);
      p2.innerHTML=leftd+"天"+lefth+":"+leftm+":"+lefts;
      setTimeout(showtime2, 1000);
    }
    /*function showtime3() {
      var nowtime=new Date(),
        endtime=new Date("2020/1/1,00:00:00"),
        lefttime=parseInt((endtime.getTime()-nowtime.getTime())/1000),
        d=Math.floor(lefttime/(60*60*24)),
        h=Math.floor(lefttime/(60*60)%24),
        m=Math.floor(lefttime/60%60),
        s=Math.floor(lefttime%60);
      p3.innerHTML=d+"天"+h+"小时"+m+"分"+s+"秒";
      setTimeout(showtime3, 1000);
    }*/
    showtime = function() {
      let time = []
      let nowtime = new Date(),
        endtime = new Date("2018/1/6,21:50:00"),//设置结束时间
        lefttime = parseInt((endtime.getTime()-nowtime.getTime())/1000),
        d = Math.floor(lefttime/(60*60*24)),
        h = Math.floor(lefttime/(60*60)%24),
        m = Math.floor(lefttime/60%60),
        s = Math.floor(lefttime%60);
      time.push(h, m, s)
      // console.log(h, m, s)
      // console.log(time)
//        p3.innerHTML=d+"天"+h+"小时"+m+"分"+s+"秒";
      p3.innerHTML = time[0]+"小时"+time[1]+"分"+time[2]+"秒";
      setTimeout(showtime, 1000);
      return time
    }
  </script>
</head>
<body>
当前时间：<p id="p1"></p>
高考倒计时：<p id="p2"></p>
限时抢购：<p id="p3"></p>
</body>
</html>
